{"version":3,"sources":["Chat/ChatSlice.js","Users/UsersSlice.js","Weather/WeatherSlice.js","store.js","Chat/ChatActions.js","Chat/Message.js","Chat/MessageList.js","Chat/Chat.js","Users/Users.js","Home/Home.js","Weather/Weather.js","Weather/WeatherAction.js","Auth/Login.js","Auth/Signup.js","AppBar/ChatPreview.js","AppBar/AppBar.js","util/CustomRoute.js","App.js","index.js"],"names":["ChatSlice","createSlice","name","isAuth","initialState","messageArray","lastUpdate","Date","toLocaleString","userId","author","messageText","isRead","users","id","myId","reducers","addMessage","state","action","payload","chatId","text","setMessages","messages","incrementWithoutMessage","value","incrementWithMessage","lastMessageText","changeIsAuth","actions","UsersSlice","userName","userMail","yourName","push","yourMail","WeatherSlice","loading","error","data","setLoading","setError","setData","configureStore","reducer","chat","chatReducer","user","userReducer","weather","weatherReducer","middleware","ThunkMiddleware","getPayloadFromSnapshot","snapshot","forEach","mes","val","key","addMessageWithFirebase","a","db","ref","child","set","Message","onButtonClick","useState","inputText","setInputText","sendMessage","trimmedMessage","trim","className","TextField","variant","multiline","fullWidth","rows","onChange","e","target","onKeyDown","type","placeholder","Button","onClick","MessageList","useSelector","map","message","i","Chat","urlParams","useParams","Number","parseInt","dispatch","useDispatch","useEffect","length","setTimeout","console","log","getState","now","Users","React","open","setOpen","handleClose","Dialog","onClose","DialogTitle","DialogContent","DialogContentText","autoFocus","event","label","DialogActions","Home","Weather","getThunkWeather","useCallback","fetch","responce","ok","Error","json","result","CircularProgress","temperature","wind","description","disabled","Login","email","setEmail","password","setPassword","history","useHistory","handleSubmit","preventDefault","firebase","auth","signInWithEmailAndPassword","Paper","elevation","onSubmit","to","Signup","firebaseApp","apps","createUserWithEmailAndPassword","JSON","stringify","options","ChatPreview","lastMessage","unreadMessagesCount","reduce","acc","Box","Typography","useStyles","makeStyles","input","borderRadius","padding","width","AppBar","classes","anchorEl","setAnchorEl","Boolean","Drawer","anchor","IconButton","currentTarget","keepMounted","anchorOrigin","horizontal","vertical","anchorPosition","top","left","anchorReference","MenuItem","InputProps","startAdornment","InputAdornment","position","CustomRoute","secured","children","withAppBar","rest","on","pathname","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","initializeApp","database","App","path","ReactDOM","render","StrictMode","store","document","getElementById"],"mappings":"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","file":"static/js/main.a65a8f7d.chunk.js","sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nexport const ChatSlice = createSlice({\r\n  name: \"chat\",\r\n  isAuth: false,\r\n  initialState: {\r\n    messageArray: {\r\n      2: [\r\n        {\r\n          lastUpdate: new Date().toLocaleString(),\r\n          userId: 1,\r\n          author: 'Diana',\r\n          messageText: \"Hi\",\r\n          isRead: true,\r\n        },\r\n        {\r\n          lastUpdate: new Date().toLocaleString(),\r\n          userId: 3,\r\n          author: 'Tom',\r\n          messageText: \"How are U?\",\r\n          isRead: false,\r\n        },\r\n      ],\r\n      3: [\r\n        {\r\n          lastUpdate: new Date().toLocaleString(),\r\n          userId: 2,\r\n          author: 'Jack',\r\n          messageText: \"Have you made your notes yet?\",\r\n          isRead: true,\r\n        },\r\n        {\r\n          lastUpdate: new Date().toLocaleString(),\r\n          userId: 1,\r\n          author: 'Diana',\r\n          messageText: \"Yes, I have\",\r\n          isRead: false,\r\n        },\r\n        {\r\n          lastUpdate: new Date().toLocaleString(),\r\n          userId: 1,\r\n          author: 'Diana',\r\n          messageText: \"What you doing?\",\r\n          isRead: false,\r\n        },\r\n      ],\r\n    },\r\n    users: [\r\n      {\r\n        id: 2,\r\n        name: \"Болталка\",\r\n      },\r\n      {\r\n        id: 3,\r\n        name: \"FAQ\",\r\n      },\r\n    ],\r\n\r\n    myId: 1,\r\n  },\r\n  reducers: {\r\n    addMessage: (state, action) => {\r\n      const { chatId, messageText, userId } = action.payload;\r\n\r\n      state.messageArray = {\r\n        ...state.messageArray,\r\n        [chatId]: [\r\n          ...state.messageArray[chatId],\r\n          {\r\n            text: messageText,\r\n            lastUpdate: new Date().toLocaleString(),\r\n            isRead: false,\r\n            userId,\r\n          },\r\n        ],\r\n      };\r\n    },\r\n\r\n    setMessages: (state, action) => {\r\n      const { chatId, messages } = action.payload;\r\n\r\n      state.messageArray = {\r\n        ...state.messageArray,\r\n        [chatId]: messages,\r\n      };\r\n    },\r\n\r\n    incrementWithoutMessage: (state) => {\r\n      state.value += 1;\r\n    },\r\n    incrementWithMessage: (state, action) => {\r\n      state.value += 1;\r\n      state.lastMessageText = action.payload;\r\n    },\r\n\r\n    changeIsAuth: (state, action) => {\r\n      state.isAuth = action.payload;\r\n    }\r\n  },\r\n});\r\n\r\nexport const {\r\n  incrementWithMessage,\r\n  incrementWithoutMessage,\r\n  addMessage,\r\n  changeIsAuth,\r\n  setMessages,\r\n} = ChatSlice.actions;\r\n\r\nexport default ChatSlice.reducer;\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nexport const UsersSlice = createSlice({\r\n  name: \"user\",\r\n  initialState: {\r\n    userName: [],\r\n    userMail: [],\r\n  },\r\n  reducers: {\r\n    yourName: (state, action) => {\r\n      state.userName.push(action.payload);\r\n    },\r\n    yourMail: (state, action) => {\r\n      state.userMail.push(action.payload);\r\n    },\r\n  },\r\n});\r\n\r\nexport const { yourName, yourMail } = UsersSlice.actions;\r\n\r\nexport default UsersSlice.reducer;\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nexport const URL_API = \"https://openweathermap.org/city/524305\";\r\n\r\nexport const WeatherSlice = createSlice({\r\n  name: \"weather\",\r\n  initialState: {\r\n    loading: false,\r\n    error: false,\r\n    data: null,\r\n  },\r\n  reducers: {\r\n    setLoading: (state, action) => {\r\n      state.loading = action.payload;\r\n    },\r\n    setError: (state, action) => {\r\n      state.error = action.payload;\r\n    },\r\n    setData: (state, action) => {\r\n      state.data = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { setLoading, setError, setData, data } = WeatherSlice.actions;\r\n\r\nexport default WeatherSlice.reducer;\r\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport chatReducer from \"./Chat/ChatSlice\";\r\nimport userReducer from \"./Users/UsersSlice\";\r\nimport weatherReducer from \"./Weather/WeatherSlice\";\r\nimport ThunkMiddleware from \"redux-thunk\";\r\n\r\nexport default configureStore({\r\n  reducer: {\r\n    chat: chatReducer,\r\n    user: userReducer,\r\n    weather: weatherReducer,\r\n  },\r\n  middleware: [ThunkMiddleware],\r\n});\r\n","import { setMessages } from \"./ChatSlice\";\r\nimport { db } from \"../App\";\r\n\r\nconst getPayloadFromSnapshot = (snapshot) => {\r\n  const messages = [];\r\n\r\n  snapshot.forEach((mes) => {\r\n    messages.push(mes.val());\r\n  });\r\n\r\n  return { chatId: snapshot.key, messages };\r\n};\r\n\r\nexport const sendMessageWithThunk = (message) => async (dispatch, getState) => {\r\n  const { chat } = getState();\r\n  const chatId = message.chatId;\r\n  const messages = chat.messageArray[chatId] || [];\r\n\r\n  dispatch(\r\n    addMessageWithFirebase(chatId, {\r\n      ...message,\r\n      id: `${chatId}-${messages?.length || 0}-${Date.now()}`,\r\n    })\r\n  );\r\n};\r\n\r\nexport const addMessageWithFirebase = (chatId, messages) => async () => {\r\n  db.ref(\"messages\").child(chatId).child(messages.id).set(messages);\r\n};\r\n\r\nexport const initMessageTracking = () => (dispatch) => {\r\n  db.ref(\"messages\").on(\"child_changed\", (snapshot) => {\r\n    const payload = getPayloadFromSnapshot(snapshot);\r\n    dispatch(setMessages(payload));\r\n  });\r\n\r\n  db.ref(\"messages\").on(\"child_added\", (snapshot) => {\r\n    const payload = getPayloadFromSnapshot(snapshot);\r\n    dispatch(setMessages(payload));\r\n  });\r\n};\r\n","import { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport \"./Chat.css\";\r\n\r\nconst Message = ({ onButtonClick }) => {\r\n  const [inputText, setInputText] = useState(\"\");\r\n\r\n  const sendMessage = () => {\r\n    const trimmedMessage = inputText.trim();\r\n    if (trimmedMessage !== \"\") {\r\n      onButtonClick(trimmedMessage);\r\n      setInputText(\"\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"input__block\">\r\n      <TextField\r\n        id=\"standard-multiline-static\"\r\n        variant=\"outlined\"\r\n        multiline\r\n        fullWidth\r\n        rows={3}\r\n        value={inputText}\r\n        onChange={(e) => setInputText(e.target.value)}\r\n        onKeyDown={({ key }) => {\r\n          if (key === \"Enter\") {\r\n            sendMessage();\r\n          }\r\n        }}\r\n        className=\"input__text\"\r\n        type=\"text\"\r\n        placeholder=\"Ваше сообщение\"\r\n      />\r\n      <br></br>\r\n      <Button\r\n        variant=\"contained\"\r\n        onClick={sendMessage}\r\n        type=\"submit\"\r\n        className=\"button\"\r\n      >\r\n        Отправить\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nMessage.propTypes = {\r\n  sendMessage: PropTypes.func,\r\n};\r\n\r\nexport default Message;\r\n","import { useSelector } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./Chat.css\";\r\n\r\nconst MessageList = ({ messageArray }) => {\r\n  const { myId } = useSelector((state) => state.chat);\r\n\r\n  return (\r\n    <div className=\"list\">\r\n      {messageArray?.map((message, i) => (\r\n        <div\r\n          key={i}\r\n          className={`\r\n                  ${\r\n                    message.userId === myId ? \"userMessage\" : \"senderMessage\"\r\n                  } ${\"message\"}`}\r\n        >\r\n          <div className=\"messageAuthor\">{\r\n                    message.userId === myId ? \"Me\" : message.author\r\n                  }</div>\r\n          <hr />\r\n          <div className=\"messageText\">{message.messageText}</div>\r\n          <div className=\"messageDate\">{message.lastUpdate}</div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nMessageList.propTypes = {\r\n  messageArray: PropTypes.array,\r\n};\r\n\r\nexport default MessageList;\r\n","import React, { useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { sendMessageWithThunk } from \"./ChatActions\";\r\nimport Message from \"./Message\";\r\nimport MessageList from \"./MessageList\";\r\nimport \"./Chat.css\";\r\n\r\nfunction Chat() {\r\n  const urlParams = useParams();\r\n  const chatId = Number.parseInt(urlParams.id);\r\n  const messageArray = useSelector((state) => state.chat.messageArray[chatId]);\r\n  const myId = useSelector((state) => state.chat.myId);\r\n  const dispatch = useDispatch();\r\n\r\n  const onButtonClick = (messageText) => {\r\n    dispatch(\r\n      sendMessageWithThunk({\r\n        chatId,\r\n        messageText,\r\n        userId: myId,\r\n      })\r\n    );\r\n    console.log(messageArray);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (messageArray.length > 0) {\r\n      setTimeout(() => {\r\n        console.log(\"Ваше сообщение получено!\");\r\n      }, 2000);\r\n    }\r\n  }, [messageArray]);\r\n  return (\r\n    <div className=\"appWrapper\">\r\n      <div className=\"appFlex\">\r\n        <MessageList messageArray={messageArray} />\r\n      </div>\r\n      <Message onButtonClick={onButtonClick} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Chat;\r\n","import React from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport { yourName, yourMail } from \"./UsersSlice.js\";\r\nimport \"./Users.css\";\r\n\r\nconst Users = () => {\r\n  const [open, setOpen] = React.useState(false);\r\n  const { userName } = useSelector((state) => state.user);\r\n  const { userMail } = useSelector((state) => state.user);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleChangeName = (event) => {\r\n    dispatch(yourName(event.target.value || \"\"));\r\n  };\r\n\r\n  const handleChangeMail = (event) => {\r\n    dispatch(yourMail(Number(event.target.value) || \"\"));\r\n  };\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n  return (\r\n    <div className=\"btnContainer\">\r\n      <Button variant=\"outlined\" onClick={handleClickOpen}>\r\n        Open for log in\r\n      </Button>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"form-dialog-title\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">Authorization</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            To authorize to this website, please enter your name and your email\r\n            address here.\r\n          </DialogContentText>\r\n          <TextField\r\n            autoFocus\r\n            id=\"name\"\r\n            value={userName}\r\n            onChange={handleChangeName}\r\n            label=\"Name\"\r\n            type=\"name\"\r\n          />{\" \"}\r\n          <br />\r\n          <TextField\r\n            autoFocus\r\n            id=\"name\"\r\n            value={userMail}\r\n            onChange={handleChangeMail}\r\n            label=\"Email Address\"\r\n            type=\"email\"\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose} variant=\"outlined\">\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleClose} variant=\"outlined\">\r\n            Continue\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","import \"./Home.css\";\r\n\r\nconst Home = () => {\r\n  return (\r\n    <div className=\"homePage\">\r\n      <h4 className=\"title\">Общайтесь в свое удовольствие!</h4>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useCallback } from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport { getWeather } from \"./WeatherAction\";\r\nimport \"./Weather.css\";\r\n\r\nconst Weather = () => {\r\n  const dispatch = useDispatch();\r\n  const { data, loading, error } = useSelector((state) => state.weather);\r\n\r\n  const getThunkWeather = useCallback(() => dispatch(getWeather()), [dispatch]);\r\n  useEffect(() => {\r\n    getThunkWeather();\r\n  }, [getThunkWeather]);\r\n  return (\r\n    <div className=\"weatherWrapper\">\r\n      <div>\r\n        {loading && <CircularProgress />}\r\n        {error && <div className=\"errorTable\">Что-то пошло не так</div>}\r\n        {!loading && !error && data && (\r\n          <div className=\"forecastWrapper\">\r\n            <h5 className=\"forecastTitle\">Weather in Murmansk</h5>\r\n            <div className=\"forecastText\">{data.temperature}</div>\r\n            <div className=\"forecastText\">{data.wind}</div>\r\n            <div className=\"forecastText\">{data.description}</div>\r\n          </div>\r\n        )}\r\n      </div>\r\n      <Button\r\n        variant=\"contained\"\r\n        onClick={() => getThunkWeather()}\r\n        type=\"submit\"\r\n        disabled={loading}\r\n      >\r\n        Узнай погоду\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Weather;\r\n","import { URL_API, setLoading, setError, setData } from \"./WeatherSlice\";\r\n\r\nexport const getWeather = () => async (dispatch, getState) => {\r\n  const {\r\n    weather: { loading },\r\n  } = getState();\r\n  if (!loading) {\r\n    try {\r\n      dispatch(setError(false));\r\n      dispatch(setLoading(true));\r\n      const responce = await fetch(URL_API);\r\n      if (!responce.ok) {\r\n        throw new Error(\"Something went wrong\");\r\n      }\r\n      const result = await responce.json();\r\n      dispatch(setData(result));\r\n    } catch (e) {\r\n      dispatch(setError(true));\r\n    } finally {\r\n      dispatch(setLoading(false));\r\n    }\r\n  }\r\n};\r\n","import { Link, useHistory } from \"react-router-dom\";\r\nimport firebase from \"firebase/compat/app\";\r\nimport { useState } from \"react\";\r\nimport { changeIsAuth } from \"../Chat/ChatSlice\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport \"./Auth.css\";\r\n\r\nconst Login = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const handlePassChange = (e) => {\r\n    setPassword(e.target.value);\r\n  };\r\n\r\n  const handleEmailChange = (e) => {\r\n    setEmail(e.target.value);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n\r\n    try {\r\n      await firebase.auth().signInWithEmailAndPassword(email, password);\r\n      dispatch(changeIsAuth(true));\r\n      history.push(\"/\");\r\n    } catch (error) {\r\n      setError(error.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"root\">\r\n      <Paper elevation={3} className=\"loginWrapper\">\r\n        <div className=\"loginHeading\">\r\n          <h1 className=\"brandTitle\">Вход</h1>\r\n        </div>\r\n\r\n        <form onSubmit={handleSubmit} className=\"loginForm\">\r\n          <div className=\"inputWrapper\">\r\n            <input\r\n              placeholder=\"E-mail\"\r\n              name=\"email\"\r\n              type=\"email\"\r\n              onChange={handleEmailChange}\r\n              value={email}\r\n              className=\"input\"\r\n            />\r\n          </div>\r\n          <div className=\"inputWrapper\">\r\n            <input\r\n              placeholder=\"Пароль\"\r\n              name=\"password\"\r\n              onChange={handlePassChange}\r\n              value={password}\r\n              type=\"password\"\r\n              className=\"input\"\r\n            />\r\n          </div>\r\n          <div className=\"buttonWrapper\">\r\n            {error && <p className=\"error\">Пользователь не зарегистрирован!</p>}\r\n            <Button type=\"submit\" variant=\"contained\">\r\n              Войти\r\n            </Button>\r\n          </div>\r\n          <p className=\"signUp\">\r\n            <Link to=\"/signup\" className=\"signUpLink\">\r\n              Создать аккаунт\r\n            </Link>\r\n          </p>\r\n        </form>\r\n      </Paper>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import { useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { changeIsAuth } from \"../Chat/ChatSlice\";\r\nimport firebase from \"firebase/compat/app\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport \"./Auth.css\";\r\n\r\nconst Signup = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n\r\n  const firebaseApp = firebase.apps[0];\r\n\r\n  const handlePassChange = (e) => {\r\n    setPassword(e.target.value);\r\n  };\r\n\r\n  const handleEmailChange = (e) => {\r\n    setEmail(e.target.value);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n\r\n    try {\r\n      await firebase.auth().createUserWithEmailAndPassword(email, password);\r\n      dispatch(changeIsAuth(true));\r\n      history.push(\"/\");\r\n    } catch (error) {\r\n      setError(error.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"root\">\r\n      <Paper elevation={3} className=\"signupWrapper\">\r\n        <div className=\"signUpHeading\">\r\n          <h1 className=\"brandTitle\">Регистрация</h1>\r\n        </div>\r\n\r\n        <form onSubmit={handleSubmit} className=\"signUpForm\">\r\n          <div className=\"inputWrapper\">\r\n            <input\r\n              placeholder=\"E-mail\"\r\n              name=\"email\"\r\n              type=\"email\"\r\n              onChange={handleEmailChange}\r\n              value={email}\r\n              className=\"input\"\r\n            />\r\n          </div>\r\n          <div className=\"inputWrapper\">\r\n            <input\r\n              placeholder=\"Пароль\"\r\n              name=\"password\"\r\n              onChange={handlePassChange}\r\n              value={password}\r\n              type=\"password\"\r\n              className=\"input\"\r\n            />\r\n          </div>\r\n          <div className=\"buttonWrapper\">\r\n            {error && <p className=\"error\">Что-то пошло не так!</p>}\r\n            <Button type=\"submit\" variant=\"contained\">\r\n              Регистрация\r\n            </Button>\r\n          </div>\r\n          <p className=\"logIn\">\r\n            <Link to=\"/login\" className=\"logInLink\">\r\n              Уже зарегистрированы?\r\n            </Link>\r\n          </p>\r\n        </form>\r\n        <code>\r\n          <pre>{JSON.stringify(firebaseApp.options, null, 2)}</pre>\r\n        </code>\r\n      </Paper>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Signup;\r\n","import { useHistory } from \"react-router-dom\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nconst ChatPreview = ({ messageArray, user }) => {\r\n  const history = useHistory();\r\n  const { name, id } = user;\r\n\r\n  const lastMessage =\r\n    messageArray.length > 0\r\n      ? messageArray[messageArray.length - 1]\r\n      : { text: \"\", lastUpdate: null };\r\n\r\n  const unreadMessagesCount = messageArray.reduce((acc, message) => {\r\n    if (message.userId === id && !message.isRead) {\r\n      acc++;\r\n    }\r\n    return acc;\r\n  }, 1);\r\n  return (\r\n    <Box className=\"chatBox\">\r\n      <Box className=\"chatWrapper\" onClick={() => history.push(`/chat/${id}`)}>\r\n        <Typography variant=\"subtitle2\">{name}</Typography>\r\n        <Typography variant=\"caption\">{lastMessage.messageText}</Typography>\r\n      </Box>\r\n      <Box className=\"chatInfo\">\r\n        <Typography variant=\"caption\">{lastMessage.lastUpdate}</Typography>\r\n        <span>\r\n\t\t{unreadMessagesCount > 0 ?\r\n          <span className=\"countMsg\">\r\n            {unreadMessagesCount}\r\n          </span> : ''}\r\n        </span>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default ChatPreview;\r\n","import { useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport ChatPreview from \"./ChatPreview\";\r\nimport \"./AppBar.css\";\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  input: {\r\n    \"& div\": {\r\n      borderRadius: \"40px\",\r\n      \"& input\": {\r\n        padding: \"10px 10px\",\r\n        width: \"10vw\",\r\n      },\r\n    },\r\n  },\r\n}));\r\n\r\nconst AppBar = () => {\r\n  const classes = useStyles();\r\n  const { users, messageArray } = useSelector((state) => state.chat);\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const { isAuth } = useSelector((state) => state.chat);\r\n  const open = Boolean(anchorEl);\r\n  const history = useHistory();\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n  return (\r\n    <Drawer variant=\"permanent\" anchor=\"left\">\r\n      <div />\r\n      <Box className=\"searchBox\">\r\n        <IconButton onClick={handleClick}>\r\n          <MenuIcon />\r\n        </IconButton>\r\n        <Menu\r\n          id=\"menu\"\r\n          anchorEl={anchorEl}\r\n          keepMounted\r\n          open={open}\r\n          onClose={handleClose}\r\n          anchorOrigin={{ horizontal: \"left\", vertical: \"bottom\" }}\r\n          anchorPosition={{ top: 50, left: 25 }}\r\n          anchorReference={\"anchorPosition\"}\r\n        >\r\n          <MenuItem className=\"menuBurg\" key={1}>\r\n            <Link to=\"/\" onClick={() => history.push(\"/\")} className=\"link\">\r\n              Home\r\n            </Link>\r\n          </MenuItem>\r\n          <MenuItem key={2}>\r\n            <Link\r\n              to=\"/weather\"\r\n              onClick={() => history.push(\"/weather\")}\r\n              className=\"link\"\r\n            >\r\n              Weather\r\n            </Link>\r\n          </MenuItem>\r\n          <MenuItem key={3}>\r\n            <Link\r\n              to=\"/users\"\r\n              onClick={() => history.push(\"/users\")}\r\n              className=\"link\"\r\n            >\r\n              Users\r\n            </Link>\r\n          </MenuItem>\r\n        </Menu>\r\n        <TextField\r\n          variant=\"outlined\"\r\n          className={classes.input}\r\n          placeholder=\"Поиск\"\r\n          InputProps={{\r\n            startAdornment: (\r\n              <InputAdornment position=\"start\">\r\n                <SearchIcon />\r\n              </InputAdornment>\r\n            ),\r\n          }}\r\n        />\r\n      </Box>\r\n      <Box className=\"mainWrapper\">\r\n        {isAuth ? users.map((user) => (\r\n          <ChatPreview key={user.id} user={user} messageArray={messageArray[user.id]} />\r\n        )): \r\n        <span>\r\n              <p className=\"text\">Авторизуйтесь для возможности отправлять сообщения</p>\r\n              <Link className=\"text text-link\" to={'/login'}>Перейти на страницу авторизации</Link>\r\n        </span>}\r\n        \r\n      </Box>\r\n    </Drawer>\r\n  );\r\n};\r\n\r\nexport default AppBar;\r\n","import { useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { Route, Redirect } from \"react-router\";\r\nimport AppBar from \"../AppBar/AppBar\";\r\nimport { initMessageTracking } from \"../Chat/ChatActions\";\r\n\r\nconst CustomRoute = ({ secured, children, withAppBar, ...rest }) => {\r\n  const { isAuth } = useSelector((state) => state.chat);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(initMessageTracking());\r\n  }, [dispatch]);\r\n\r\n  if ((secured && isAuth) || !secured) {\r\n    return (\r\n      <Route {...rest}>\r\n        {withAppBar && <AppBar />}\r\n        {children}\r\n      </Route>\r\n    );\r\n  }\r\n\r\n  return <Redirect to={{ pathname: \"/login\" }} />;\r\n};\r\n\r\nexport default CustomRoute;\r\n","import React, { useEffect } from \"react\";\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport { initializeApp } from \"firebase/app\";\r\nimport firebase from \"firebase/compat\";\r\nimport Chat from \"./Chat/Chat\";\r\nimport Users from \"./Users/Users\";\r\nimport Home from \"./Home/Home\";\r\nimport Weather from \"./Weather/Weather\";\r\nimport Login from \"./Auth/Login\";\r\nimport Signup from \"./Auth/Signup\";\r\nimport CustomRoute from \"./util/CustomRoute\";\r\nimport AppBar from \"./AppBar/AppBar\";\r\nimport \"./App.css\";\r\nimport \"./AppBar/AppBar.css\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyBfqb0DecmSsgY_r05gR6HP2Lv16PFVKmI\",\r\n  authDomain: \"gb-react-628c1.firebaseapp.com\",\r\n  databaseURL:\r\n    \"https://gb-react-628c1-default-rtdb.europe-west1.firebasedatabase.app\",\r\n  projectId: \"gb-react-628c1\",\r\n  storageBucket: \"gb-react-628c1.appspot.com\",\r\n  messagingSenderId: \"755336690900\",\r\n  appId: \"1:755336690900:web:e50cdda7c502b8bc890f41\",\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\nexport const db = firebase.database();\r\n\r\nconst App = () => {\r\n  useEffect(() => {\r\n    initializeApp(firebaseConfig);\r\n  }, []);\r\n  return (\r\n    <Router>\r\n      <AppBar />\r\n      <Switch>\r\n        <CustomRoute path=\"/chat/:id\">\r\n          <Chat />\r\n        </CustomRoute>\r\n        <CustomRoute path=\"/users\" secured withAppBar={true}>\r\n          <Users />\r\n        </CustomRoute>\r\n        <Route path=\"/login\">\r\n          <Login />\r\n        </Route>\r\n        <Route path=\"/signup\">\r\n          <Signup />\r\n        </Route>\r\n        <Route path=\"/weather\" secured withAppBar={true}>\r\n          <Weather />\r\n        </Route>\r\n        <Route path=\"/\" withAppBar={false}>\r\n          <Home />\r\n        </Route>\r\n      </Switch>\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store.js\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}